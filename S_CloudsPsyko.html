<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>S_CloudsPsyko Effect (HTML)</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: black;
  }
  canvas {
    display: block;
  }
</style>
</head>
<body>
<canvas id="clouds"></canvas>
<script>
const canvas = document.getElementById("clouds");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let t = 0;

function drawClouds() {
  const w = canvas.width;
  const h = canvas.height;
  const imageData = ctx.createImageData(w, h);
  const data = imageData.data;

  for (let y = 0; y < h; y++) {
    for (let x = 0; x < w; x++) {
      // Noise-based psychedelic pattern
      let nx = x / w - 0.5;
      let ny = y / h - 0.5;

      // Create wavy distortion like Sapphire Clouds
      let value = Math.sin((nx * 10 + t) * 2) + Math.cos((ny * 10 - t) * 2);

      // Map value to HSL color cycle
      let hue = (value * 180 + t * 50) % 360;
      let color = hslToRgb(hue / 360, 1, 0.5);

      let index = (x + y * w) * 4;
      data[index] = color[0];
      data[index + 1] = color[1];
      data[index + 2] = color[2];
      data[index + 3] = 255;
    }
  }
  ctx.putImageData(imageData, 0, 0);
  t += 0.02;
  requestAnimationFrame(drawClouds);
}

// Convert HSL to RGB
function hslToRgb(h, s, l) {
  let r, g, b;
  if (s === 0) {
    r = g = b = l;
  } else {
    const hue2rgb = (p, q, t) => {
      if (t < 0) t += 1;
      if (t > 1) t -= 1;
      if (t < 1/6) return p + (q - p) * 6 * t;
      if (t < 1/2) return q;
      if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
      return p;
    };
    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
    const p = 2 * l - q;
    r = hue2rgb(p, q, h + 1/3);
    g = hue2rgb(p, q, h);
    b = hue2rgb(p, q, h - 1/3);
  }
  return [r * 255, g * 255, b * 255];
}

drawClouds();
</script>
</body>
</html>
